"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6490],{1445:(e,t,a)=>{a.d(t,{e:()=>r});var r={props:{inputValue:{default:!1,type:String|Number|Boolean},inputValueFalse:{default:!1,type:String|Number|Boolean},inputValueTrue:{default:!0,type:String|Number|Boolean}},data:function(){return{editableValue:!1}},computed:{isChecked:function(){return this.editableValue===this.inputValueTrue}},mounted:function(){this.editableValue=this.inputValue,this.autofocus()},methods:{onInput:function(){this.$emit("input",this.isChecked?this.inputValueTrue:this.inputValueFalse),this.errorHideOnInput&&(this.hideError=!0)}}}},5998:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(2117),s=a(1445),n=a(9732);const o={name:"InlineCheckboxGroup",mixins:[r.W,s.e],components:{FormFieldError:n.A},props:{inputClass:{default:"cursor-pointer form-checkbox h-5 mr-2 rounded text-theme-primary w-5 focus:border-theme-primary focus:outline-none focus:ring focus:ring-primary",type:String},labelClass:{default:"cursor-pointer flex-1 font-medium select-none text-theme-base-contrast text-sm tracking-wider",type:String}}};const i=(0,a(4486).A)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col"},[t("div",{staticClass:"flex flex-row"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.editableValue,expression:"editableValue"}],ref:e.inputId,class:e.formattedInputClass,attrs:{id:e.inputId,disabled:e.inputDisabled,"false-value":e.inputValueFalse,name:e.inputName,required:e.inputRequired,"true-value":e.inputValueTrue,type:"checkbox"},domProps:{checked:Array.isArray(e.editableValue)?e._i(e.editableValue,null)>-1:e._q(e.editableValue,e.inputValueTrue)},on:{change:[function(t){var a=e.editableValue,r=t.target,s=r.checked?e.inputValueTrue:e.inputValueFalse;if(Array.isArray(a)){var n=e._i(a,null);r.checked?n<0&&(e.editableValue=a.concat([null])):n>-1&&(e.editableValue=a.slice(0,n).concat(a.slice(n+1)))}else e.editableValue=s},e.onInput],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.blurInput.apply(null,arguments)}}}),e._v(" "),t("label",{class:e.labelClass,attrs:{for:e.inputId}},[t("span",{staticClass:"flex flex-row items-baseline"},[t("span",[e._v(e._s(e.labelText))]),e._v(" "),e.inputRequired?t("sup",{staticClass:"text-theme-danger-contrast"},[e._v("\n                    *\n                ")]):e._e()])])]),e._v(" "),t("form-field-error",{attrs:{"error-class":e.errorClass,"error-message":e.errorMessage,"is-error":e.isError}})],1)}),[],!1,null,null,null).exports},6490:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var r=a(2543),s=a.n(r),n=a(5998),o=a(6786),i=a(7942);const l={name:"AdminUserCreate",components:{InlineCheckboxGroup:n.A,InputGroup:o.A,ImageField:i.A},layout:"admin-layout",props:{selectableRoles:{default:null}},data:function(){return{formData:{email:"",firstname:"",lastname:"",image:"",password:"",password_confirmation:"",roles:{}},showEcommerce:!1}},computed:{isSelectableRoles:function(){try{return Object.keys(this.selectableRoles).length>0}catch(e){return!1}}},mounted:function(){this.initialiseRoles()},methods:{initialiseRoles:function(){var e=this;s().forEach(this.selectableRoles,(function(t,a){e.formData.roles.hasOwnProperty(a)||(e.formData.roles[a]=!1)}))},submit:function(){this.$inertia.post(this.$route("admin.users.store"),this.formData)},change:function(){this.showEcommerce=this.formData.roles.admin,this.showEcommerce||(this.formData.roles.ecommerce=!1)}}};const u=(0,a(4486).A)(l,(function(){var e=this,t=e._self._c;return t("form",{staticClass:"max-w-5xl mx-auto",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[e.userCan("users.create")?t("div",{staticClass:"flex flex-row items-center mb-6"},[t("h1",{staticClass:"font-medium mr-auto text-lg"},[e._v("Create User")]),e._v(" "),e.userCan("users.view")?t("inertia-link",{staticClass:"button button-default-responsive button-primary-subtle flex flex-row items-center mr-2",attrs:{href:e.$route("admin.users.index")}},[t("icon-chevron-left",{staticClass:"w-5 md:mr-2"}),e._v(" "),t("span",{staticClass:"hidden md:inline"},[e._v(" Back ")])],1):e._e(),e._v(" "),t("button",{staticClass:"button button-default-responsive button-primary flex flex-row items-center",attrs:{type:"submit"}},[t("icon-save",{staticClass:"w-5 md:mr-2"}),e._v(" "),t("span",{staticClass:"hidden md:inline"},[e._v(" Create User ")])],1)],1):e._e(),e._v(" "),t("div",{staticClass:"bg-white py-6 shadow-subtle rounded-lg"},[t("div",{staticClass:"block px-6 w-full"},[t("input-group",{attrs:{"error-message":e.getPageErrorMessage("first_name"),"input-autocomplete":"first_name","input-autofocus":!0,"input-id":"first_name","input-name":"first_name","input-required":!0,"input-type":"text","label-text":"First Name"},on:{errorHidden:function(t){return e.clearPageErrorMessage("first_name")}},model:{value:e.formData.firstname,callback:function(t){e.$set(e.formData,"firstname",t)},expression:"formData.firstname"}}),e._v(" "),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("last_name"),"input-autocomplete":"last_name","input-id":"last_name","input-name":"last_name","input-required":!0,"input-type":"text","label-text":"Last Name"},on:{errorHidden:function(t){return e.clearPageErrorMessage("last_name")}},model:{value:e.formData.lastname,callback:function(t){e.$set(e.formData,"lastname",t)},expression:"formData.lastname"}}),e._v(" "),t("ImageField",{attrs:{"template-field":{},content:"",styles:"rounded-full w-36 h-36 m-auto object-cover"},model:{value:e.formData.image,callback:function(t){e.$set(e.formData,"image",t)},expression:"formData.image"}},[t("label",{staticClass:"input-group-label",attrs:{for:"name"}},[t("span",{staticClass:"flex flex-row items-baseline mb-2"},[t("span",[e._v("Image")]),e._v(" "),t("sup",{staticClass:"text-theme-danger-contrast"},[e._v(" * ")])])])]),e._v(" "),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("email"),"input-autocomplete":"off","input-id":"email","input-name":"email","input-required":!0,"input-type":"email","label-text":"Email"},on:{errorHidden:function(t){return e.clearPageErrorMessage("email")}},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}}),e._v(" "),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("password"),"input-autocomplete":"off","input-id":"password","input-name":"password","input-required":!0,"input-type":"password","label-text":"Password"},on:{errorHidden:function(t){return e.clearPageErrorMessage("password")}},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password",t)},expression:"formData.password"}}),e._v(" "),t("input-group",{staticClass:"mt-4",attrs:{"error-message":e.getPageErrorMessage("password_confirmation"),"input-autocomplete":"off","input-id":"password_confirmation","input-name":"password_confirmation","input-required":!0,"input-type":"password","label-text":"Confirm Password"},on:{errorHidden:function(t){return e.clearPageErrorMessage("password_confirmation")}},model:{value:e.formData.password_confirmation,callback:function(t){e.$set(e.formData,"password_confirmation",t)},expression:"formData.password_confirmation"}})],1)]),e._v(" "),e.isSelectableRoles?t("div",{staticClass:"bg-white mt-6 py-6 shadow-subtle rounded-lg"},[t("div",{staticClass:"block px-6 w-full"},[t("p",{staticClass:"font-medium mb-4 text-theme-base-contrast tracking-wider"},[e._v("\n        Roles\n      ")]),e._v(" "),t("div",{staticClass:"space-y-2"},[e._l(e.selectableRoles,(function(a,r){return"ecommerce"!=r?t("inline-checkbox-group",{key:"user-role-".concat(r),attrs:{"input-id":"user-role-".concat(r),"input-name":"user-role-".concat(r),"label-text":a},on:{input:e.change},model:{value:e.formData.roles[r],callback:function(t){e.$set(e.formData.roles,r,t)},expression:"formData.roles[role_key]"}}):e._e()})),e._v(" "),e.showEcommerce?t("inline-checkbox-group",{key:"user-role-ecomerce",staticClass:"ml-4",attrs:{"input-id":"user-role-ecomerce","input-name":"user-role-ecomerce","label-text":"Access to ECommerce"},model:{value:e.formData.roles.ecommerce,callback:function(t){e.$set(e.formData.roles,"ecommerce",t)},expression:"formData.roles.ecommerce"}}):e._e()],2)])]):e._e()])}),[],!1,null,null,null).exports}}]);